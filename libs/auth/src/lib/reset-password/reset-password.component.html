<div
    class="reset-container mat-elevation-z10"
    fxLayout="column"
    fxLayoutAlign="center"
>
    <mat-toolbar color="primary">
        <mat-toolbar-row class="stripped">
            <mat-icon class="material-icons">account_circle</mat-icon>
            <!-- account_circle -->
            <span translate>Reset your password</span>
        </mat-toolbar-row>
    </mat-toolbar>
    <mat-card
        fxLayoutAlign="center"
        fxFlex="100%"
        fxFlex.sm="50%"
        fxFlex.md="50%"
        fxFlex.gt-md="50%"
        class="reset-box"
    >
        <dpio-application-loader class="inline-loader" [isLoading]="pending">
        </dpio-application-loader>
        <mat-card-content>
            <form (ngSubmit)="onSubmit()" [formGroup]="resetForm" novalidate>
                <div fxLayout="column">
                    <mat-form-field>
                        <input
                            type="text"
                            matInput
                            name="email"
                            formControlName="email"
                            [placeholder]="'Email' | translate"
                        />
                        <mat-error
                            *ngIf="
                                resetForm.controls['email'].invalid &&
                                !resetForm.controls['email'].untouched
                            "
                        >
                            <span translate>Email is required</span>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <input
                            type="password"
                            matInput
                            name="password"
                            formControlName="password"
                            [placeholder]="'Password' | translate"
                        />
                        <mat-error
                            *ngIf="
                                resetForm.controls['password'].invalid &&
                                !resetForm.controls['password'].untouched
                            "
                        >
                            <span translate>Password is required</span>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <input
                            type="password"
                            matInput
                            name="confirmPassword"
                            formControlName="confirmPassword"
                            [placeholder]="'Confirm Password' | translate"
                        />
                        <mat-error
                            *ngIf="
                                resetForm.controls['confirmPassword'].invalid &&
                                !resetForm.controls['confirmPassword'].untouched
                            "
                        >
                            <span translate>Confirm Password is required</span>
                        </mat-error>
                    </mat-form-field>
                    <mat-error
                        class="reset-error"
                        [hidden]="
                            pending ||
                            !errorMessage ||
                            (!resetForm.pristine && resetForm.invalid)
                        "
                        translate
                    >
                        <b>{{
                            (errorMessage ||
                                (!resetForm.pristine && resetForm.invalid) ||
                                "") &&
                                ("reset form has invalid data." | translate)
                        }}</b>
                    </mat-error>
                    <br />
                    <button
                        mat-raised-button
                        color="primary"
                        type="submit"
                        [disabled]="resetForm.invalid || pending"
                    >
                        <span translate>Reset</span>
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>
